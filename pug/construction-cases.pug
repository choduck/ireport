html(style='width: 100%;')
  head
    title=title
    meta(name='description' content=description)
    meta(name='keywords' content='아이리포트')
    meta(property="og:type" content="website")
    meta(property="og:site_name" content="ireport")
    meta(property="og:title" content="구축사례 | 아이리포트")
    meta(property="og:description" content="AI 비전 솔루션 구축사례")
    meta(property="og:image" content="http://plusuniv.com/img/og_img.png")
    meta(property='og:image:alt', content='아이리포트 회사 로고')
    meta(property="og:url" content="http://localhost:8888/construction-cases")

    script(type="text/javascript" src="/js/vue.js")
    script(type="text/javascript" src="/js/components.js")
    script(type="text/javascript" src="/js/onscroll.js")
    script(type="text/javascript" src="/js/axios.js")
    script(type="text/javascript" src="/js/http.js")

    link(rel="stylesheet" href='/css/main.css')
    
    style.
      .cases-table tbody tr:hover {
        background-color: #f8f9fa !important;
        cursor: pointer;
      }
      .construction-cases-section {
        padding: 60px 0;
        background: #fafafa;
        min-height: 500px;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }
      .construction-header-section {
        background: #1a1a1a;
      }
      
      /* 페이징 스타일 */
      .pagination-wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 40px;
        gap: 10px;
      }
      .pagination-btn {
        padding: 10px 15px;
        border: 1px solid #ddd;
        background: white;
        color: #333;
        text-decoration: none;
        border-radius: 4px;
        transition: all 0.3s;
        font-size: 14px;
        min-width: 40px;
        text-align: center;
      }
      .pagination-btn:hover {
        background: #f8f9fa;
        border-color: #007bff;
        color: #007bff;
      }
      .pagination-btn.active {
        background: #007bff;
        color: white;
        border-color: #007bff;
      }
      .pagination-btn.disabled {
        background: #f8f9fa;
        color: #999;
        cursor: not-allowed;
        border-color: #e9ecef;
      }
      .pagination-btn.disabled:hover {
        background: #f8f9fa;
        color: #999;
        border-color: #e9ecef;
      }
      .pagination-info {
        color: #666;
        font-size: 14px;
        margin: 0 15px;
      }

    meta(name="viewport" content="width=device-width, initial-scale=1.0")

    link(rel='apple-touch-icon' href='/apple-touch-icon.png')
    link(rel='icon', href='/favicon32.svg' type="image/svg+xml" sizes="16x16 32x32 48x48")
    link(rel='icon', href='/favicon.svg' type="image/svg+xml")

  body
    #app.is-black(:class="themeClass")
      tnb(type="구축사례", :_this="this")
      
      // 상단 헤더 섹션 - 악수하는 배경 이미지 표시
      .construction-header-section(style="position: relative; height: 400px; overflow: hidden;")
        img(src="/img/frame.svg" alt="악수하는 배경" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;")
        .header-overlay(style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.2);")
        .header-content(style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; z-index: 2;")
          h1.header-title(style="color: white; font-size: 48px; margin-bottom: 10px; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.8);") 구축사례
          p.header-subtitle(style="color: rgba(255,255,255,0.9); font-size: 28px; font-weight: 300; letter-spacing: 2px; text-shadow: 2px 2px 4px rgba(0,0,0,0.8);") Construction Cases
      
      main
        .construction-cases-section
          .container
            .page-header(style="text-align: center; margin-bottom: 50px;")
              h1.page-title(style="font-size: 36px; margin-bottom: 15px; color: #333;") 구축사례
              p.page-subtitle(style="font-size: 18px; color: #666;") 다양한 분야에서 수행했던 사업 History를 소개합니다.
            
            .cases-table-wrapper(style="overflow-x: auto; box-shadow: 0 2px 10px rgba(0,0,0,0.1); border-radius: 8px;")
              table.cases-table(style="width: 100%; border-collapse: collapse; background: white;")
                thead
                  tr(style="background: #f5f5f5;")
                    th(style="padding: 15px; text-align: left; font-weight: 600; color: #333; border-bottom: 2px solid #ddd;") 순번
                    th(style="padding: 15px; text-align: left; font-weight: 600; color: #333; border-bottom: 2px solid #ddd;") 고객사
                    th(style="padding: 15px; text-align: left; font-weight: 600; color: #333; border-bottom: 2px solid #ddd;") 사업명
                    th(style="padding: 15px; text-align: left; font-weight: 600; color: #333; border-bottom: 2px solid #ddd;") 사업기간
                tbody
                  if notices && notices.length > 0
                    each notice, index in notices
                      tr(style="border-bottom: 1px solid #eee; transition: background 0.3s;")
                        td(style="padding: 15px;")= ((pagination.currentPage - 1) * pagination.itemsPerPage) + index + 1
                        td.customer-name(style="padding: 15px; font-weight: 500;")= notice.고객사 || '-'
                        td.project-name(style="padding: 15px;")= notice.사업명 || notice.제목 || '-'
                        td(style="padding: 15px; color: #666;")= notice.사업기간 || notice.작성일 || '-'
                  else
                    tr
                      td(colspan="4" style="padding: 40px; text-align: center; color: #999;")
                        .no-data 등록된 구축사례가 없습니다.
            
            // 페이징 네비게이션
            if pagination && pagination.totalPages > 1
              .pagination-wrapper
                // 이전 페이지 버튼
                if pagination.hasPrev
                  a.pagination-btn(href=`/construction-cases?page=${pagination.prevPage}`) ‹ 이전
                else
                  span.pagination-btn.disabled ‹ 이전
                
                // 페이지 번호들
                each page in pagination.pages
                  if page.isCurrent
                    span.pagination-btn.active= page.number
                  else
                    a.pagination-btn(href=`/construction-cases?page=${page.number}`)= page.number
                
                // 다음 페이지 버튼
                if pagination.hasNext
                  a.pagination-btn(href=`/construction-cases?page=${pagination.nextPage}`) 다음 ›
                else
                  span.pagination-btn.disabled 다음 ›
                
                // 페이지 정보
                .pagination-info 
                  span 총 #{pagination.totalItems}개 항목 (#{pagination.currentPage}/#{pagination.totalPages} 페이지)
      
      bnb
      common-daemon
      
  script(type='text/javascript').
    let isMobile = "#{mobile}" == "true"
    var v = new Vue({
      el: '#app',
      components: {
      },
      data: {
        themeClass: {mobile: isMobile},
        notices: !{JSON.stringify(notices || [])},
        pagination: !{JSON.stringify(pagination || {})}
      },
      methods: {
        goToPage(page) {
          if (page >= 1 && page <= this.pagination.totalPages) {
            window.location.href = `/construction-cases?page=${page}`
          }
        }
      },
      computed: {
      },
      created() {
        console.log('구축사례 데이터:', this.notices)
        console.log('페이징 정보:', this.pagination)
      },
      mounted() {
      },
      beforeDestroy() {
      }
    })