html(style='width: 100%;')
  head
    title=title
    meta(name='description' content=description)
    meta(name='keywords' content='아이리포트')
    meta(property="og:type" content="website")
    meta(property="og:site_name" content="ireport")
    meta(property="og:title" content="구축사례 | 아이리포트")
    meta(property="og:description" content="AI 비전 솔루션 구축사례")
    meta(property="og:image" content="http://plusuniv.com/img/og_img.png")
    meta(property='og:image:alt', content='아이리포트 회사 로고')
    meta(property="og:url" content="http://localhost:8888/construction-cases")

    script(type="text/javascript" src="/js/vue.js")
    script(type="text/javascript" src="/js/components.js")
    script(type="text/javascript" src="/js/onscroll.js")
    script(type="text/javascript" src="/js/axios.js")
    script(type="text/javascript" src="/js/http.js")

    link(rel="stylesheet" href='/css/main.css')
    
    style.
      .cases-table tbody tr:hover {
        background-color: #e8f4f8 !important;
        cursor: pointer;
      }
      .construction-cases-section {
        padding: 60px 0;
        background: #ffffff;
        min-height: 500px;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }
      .construction-header-section {
        background: #1a1a1a;
      }
      
      /* 테이블 스타일 개선 */
      .cases-table-wrapper {
        background: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        border: 1px solid #e0e0e0;
      }
      
      .cases-table {
        width: 100%;
        border-collapse: collapse;
        background: white;
        margin: 0;
      }
      
      .cases-table thead th {
        background: #f8f9fa;
        padding: 16px 20px;
        text-align: center;
        font-weight: 600;
        color: #495057;
        border-bottom: 1px solid #dee2e6;
        font-size: 14px;
        letter-spacing: 0.5px;
      }
      
      .cases-table tbody tr {
        border-bottom: 1px solid #f1f3f4;
        transition: background-color 0.2s ease;
      }
      
      .cases-table tbody tr:nth-child(even) {
        background-color: #fafafa;
      }
      
      .cases-table tbody tr:nth-child(odd) {
        background-color: #ffffff;
      }
      
      .cases-table tbody td {
        padding: 16px 20px;
        text-align: center;
        color: #495057;
        font-size: 14px;
        vertical-align: middle;
      }
      
      .cases-table tbody td:first-child {
        font-weight: 600;
        color: #6c757d;
      }
      
      .cases-table tbody td:nth-child(2) {
        font-weight: 500;
        color: #343a40;
      }
      
      /* 페이징 스타일 개선 */
      .pagination-wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 40px;
        gap: 8px;
      }
      
      .pagination-btn {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        border: 1px solid #dee2e6;
        background: white;
        color: #6c757d;
        text-decoration: none;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.2s ease;
        cursor: pointer;
      }
      
      .pagination-btn:hover {
        background: #e9ecef;
        border-color: #adb5bd;
        color: #495057;
      }
      
      .pagination-btn.active {
        background: #007bff;
        color: white;
        border-color: #007bff;
        font-weight: 600;
      }
      
      .pagination-btn.disabled {
        background: #f8f9fa;
        color: #ced4da;
        cursor: not-allowed;
        border-color: #e9ecef;
      }
      
      .pagination-btn.disabled:hover {
        background: #f8f9fa;
        color: #ced4da;
        border-color: #e9ecef;
      }
      
      .pagination-info {
        display: none;
      }

    meta(name="viewport" content="width=device-width, initial-scale=1.0")

    link(rel='apple-touch-icon' href='/apple-touch-icon.png')
    link(rel='icon', href='/favicon32.svg' type="image/svg+xml" sizes="16x16 32x32 48x48")
    link(rel='icon', href='/favicon.svg' type="image/svg+xml")

  body
    #app.is-black(:class="themeClass")
      tnb(type="구축사례", :_this="this")
      
      // 상단 헤더 섹션 - 악수하는 배경 이미지 표시
      .construction-header-section(style="position: relative; height: 400px; overflow: hidden;")
        img(src="/img/frame.svg" alt="악수하는 배경" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;")
        .header-overlay(style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.2);")
        .header-content(style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; z-index: 2;")
          h1.header-title(style="color: white; font-size: 48px; margin-bottom: 10px; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.8);") 구축사례
          p.header-subtitle(style="color: rgba(255,255,255,0.9); font-size: 28px; font-weight: 300; letter-spacing: 2px; text-shadow: 2px 2px 4px rgba(0,0,0,0.8);") Construction Cases
      
      main
        .construction-cases-section
          .container
            .page-header(style="margin-bottom: 50px;")
              h1.page-title(style="font-size: 32px; margin-bottom: 15px; color: #007bff; font-weight: 600; text-align: left;") 구축사례
              p.page-subtitle(style="font-size: 16px; color: #6c757d; text-align: left;") 다양한 분야에서 수행했던 사업 History를 소개합니다.
            
            .cases-table-wrapper
              table.cases-table
                thead
                  tr
                    th 순번
                    th 고객사
                    th 사업명
                    th 사업기간
                tbody
                  if notices && notices.length > 0
                    each notice, index in notices
                      tr
                        td= pagination.totalItems - ((pagination.currentPage - 1) * pagination.itemsPerPage) - index
                        td= notice.고객사 || '-'
                        td= notice.사업명 || notice.제목 || '-'
                        td= notice.사업기간 || notice.작성일 || '-'
                  else
                    tr
                      td(colspan="4" style="padding: 40px; color: #999;") 등록된 구축사례가 없습니다.
            
            // 페이징 네비게이션
            if pagination && pagination.totalPages > 1
              .pagination-wrapper
                // 이전 페이지 버튼
                if pagination.hasPrev
                  a.pagination-btn(href=`/construction-cases?page=${pagination.prevPage}`) <
                else
                  span.pagination-btn.disabled <
                
                // 페이지 번호들
                each page in pagination.pages
                  if page.isCurrent
                    span.pagination-btn.active= page.number
                  else
                    a.pagination-btn(href=`/construction-cases?page=${page.number}`)= page.number
                
                // 다음 페이지 버튼
                if pagination.hasNext
                  a.pagination-btn(href=`/construction-cases?page=${pagination.nextPage}`) >
                else
                  span.pagination-btn.disabled >
      
      bnb
      common-daemon
      
  script(type='text/javascript').
    let isMobile = "#{mobile}" == "true"
    var v = new Vue({
      el: '#app',
      components: {
      },
      data: {
        themeClass: {mobile: isMobile},
        notices: !{JSON.stringify(notices || [])},
        pagination: !{JSON.stringify(pagination || {})}
      },
      methods: {
        goToPage(page) {
          if (page >= 1 && page <= this.pagination.totalPages) {
            window.location.href = `/construction-cases?page=${page}`
          }
        }
      },
      computed: {
      },
      created() {
        console.log('구축사례 데이터:', this.notices)
        console.log('페이징 정보:', this.pagination)
      },
      mounted() {
      },
      beforeDestroy() {
      }
    })