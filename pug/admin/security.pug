html(style='width: 100%;')
  head
    title
    meta(name='description' content='')
    meta(name='keywords' content='매니스탈링스')
    meta(property="og:type" content="website")
    meta(property="og:site_name" content="MST")
    meta(property="og:title" content="차가운 기술로 따뜻한 세상을 만드는 🙂🙂 | AI 비전솔루션 매니스탈링스 Many Stallings Company")
    meta(property="og:description" content="AI Vision Solution")
    meta(property="og:image" content="http://plusuniv.com/img/og_img.png")
    meta(property='og:image:alt', content='Many Stallings Company Logo')
    meta(property="og:url" content="http://plusuniv.com")

    script(type="text/javascript" src="/js/vue.js")
    script(type="text/javascript" src="/js/grunt-build.js")
    script(type="text/javascript" src="/js/clipboard.js")
    script(type="text/javascript" src="/js/toastui-chart.js" async)
    script(type="text/javascript" src="/js/dayjs.js" async)
    script(type="text/javascript" src="/js/init.js")
    script(type="text/javascript" src="/js/axios.js")
    script(type="text/javascript" src="/js/http.js")

    link(rel='stylesheet' href='/css/buefy.css')
    link(rel="stylesheet" href='/css/admin.css')

    //link(href='https://vjs.zencdn.net/7.19.2/video-js.css', rel='stylesheet')

    link(rel='canonical' href='http://plusuniv.com')
    meta(name="viewport" content="width=device-width, initial-scale=1.0")

    link(rel='apple-touch-icon' href='/apple-touch-icon.png')
    //link(rel="icon" href="https://plusuniv.com/favicon.ico" type="image/x-icon")
    //link(rel='icon', href='https://plusuniv.com/favicon.svg' type="image/svg+xml")
  body
    #app.h100
      main
        tnb-admin
        lnb(menu-name="어드민/보안설정")
        .main-inner
          .title
          .data-items.login
            .input-items
              .input-item
                .label 아이디
                b-input(type="text" v-model="id")
              .input-item
                .label 비밀번호
                b-input(type="text" v-model="pw")
              button(@click="write") 수정
    include common/tnb-admin.pug
    include common/lnb.pug
 
  script(type="text/javascript" src="/js/components.js")
  script(type='text/javascript').
    const api_key = "#{api_key}"
    var v = new Vue({
      el: '#app',
      components: {
      },
      data: {
        id: '',
        pw: ''
      },
      methods: {
        write: function () {
          http({uri:"어드민계정쓰기", method:"post", param: { api_key, tableName: 'TB_ADMIN_USER', row: { '아이디': this.id, '비밀번호': this.pw } }, cb: (res) => {
            if(res.code === 0)
            {
              alert("수정되었습니다.")
            }
            else 
              alert("수정에 실패하였습니다.")
          } })
        }
      },
      computed: {
      },
      created()
      {
      },
      mounted()
      {
        http({uri:"어드민계정읽기", method:"patch", param: { api_key, tableName: 'TB_ADMIN_USER', row: {} }, cb: (res) => {
          if(res.code === 0)
          {
            console.log(res)
            this.id = res.row["아이디"]
            this.pw = res.row["비밀번호"]
          }
        } })
      },
      beforeDestroy()
      {
      }

    })