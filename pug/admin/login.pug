html(style='width: 100%;')
  head
    title 어드민 로그인 | AI 비전솔루션 매니스탈링스 Many Stallings Company
    meta(name='description' content='어드민 로그인 페이지')
    meta(name='keywords' content='매니스탈링스')
    meta(property="og:type" content="website")
    meta(property="og:site_name" content="MST")
    meta(property="og:title" content="차가운 기술로 따뜻한 세상을 만드는 🙂🙂 | AI 비전솔루션 매니스탈링스 Many Stallings Company")
    meta(property="og:description" content="AI Vision Solution")
    meta(property="og:image" content="http://plusuniv.com/img/og_img.png")
    meta(property='og:image:alt', content='Many Stallings Company Logo')
    meta(property="og:url" content="http://plusuniv.com")

    script(type="text/javascript" src="/js/vue.js")
    script(type="text/javascript" src="/js/grunt-build.js")
    script(type="text/javascript" src="/js/toastui-chart.js" async)
    script(type="text/javascript" src="/js/axios.js" async)
    script(type="text/javascript" src="/js/http.js")

    link(rel='stylesheet' href='/css/buefy.css')
    link(rel="stylesheet" href='/css/admin.css')

    //link(href='https://vjs.zencdn.net/7.19.2/video-js.css', rel='stylesheet')

    link(rel='canonical' href='http://plusuniv.com')
    meta(name="viewport" content="width=device-width, initial-scale=1.0")

    link(rel='apple-touch-icon' href='/apple-touch-icon.png')
    //link(rel="icon" href="https://plusuniv.com/favicon.ico" type="image/x-icon")
    //link(rel='icon', href='https://plusuniv.com/favicon.svg' type="image/svg+xml")
  body
    #app.h100
      main.h100.is-center
        .data-items.login
          .input-items
            .input-item
              .label 아이디
              b-input(type="text" v-model="id" autofocus)
            .input-item
              .label 비밀번호
              b-input(type="text" v-model="pw" @keydown.native="login")
            .input-item(v-if="remain == -1") 로그인을 사용할 수 없습니다.
            .input-item(v-else-if="!isNaN(remain)") 로그인 시도 횟수 {{ 10 - remain }} 회 남았습니다.
            .v-padding
            button(@click="login({keyCode: 13})") 로그인

 
  script(type='text/javascript').
    var v = new Vue({
      el: '#app',
      components: {
      },
      data: {
        id: '',
        pw: '',
        remain: 'nan'
      },
      methods: {
        login: function (e) {
          if(e.keyCode == 13) {
            http({uri:"로그인", method:"patch", param: { id: this.id, pw: this.pw }, cb: (res) => {
              if(res.code === 0)
              {
                location.href="/%EC%96%B4%EB%93%9C%EB%AF%BC/%EB%A9%94%EC%9D%B8"
              }
              else
              {
                alert("로그인에 실패하였습니다.")
                this.remain = Number(res.remain)
              }
            }, ecb: (err) => {
              this.remain = -1
            } })
          }
        }
      },
      computed: {
      },
      created()
      {
      },
      mounted()
      {
      },
      beforeDestroy()
      {
      }

    })