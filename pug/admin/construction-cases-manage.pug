html(style='width: 100%;')
  head
    title Íµ¨Ï∂ïÏÇ¨Î°Ä Í¥ÄÎ¶¨ | ÏïÑÏù¥Î¶¨Ìè¨Ìä∏ Ïñ¥ÎìúÎØº
    meta(name='description' content='Íµ¨Ï∂ïÏÇ¨Î°Ä Í¥ÄÎ¶¨')
    meta(name='keywords' content='ÏïÑÏù¥Î¶¨Ìè¨Ìä∏, Ïñ¥ÎìúÎØº')
    meta(name='viewport' content='width=device-width, initial-scale=1')
    meta(charset='utf-8')
    
    script(type="text/javascript" src="/js/vue.js")
    script(type="text/javascript" src="/js/grunt-build.js")
    script(type="text/javascript" src="/js/axios.js")
    script(type="text/javascript" src="/js/http.js")

    link(rel='stylesheet' href='/css/buefy.css')
    link(rel="stylesheet" href='/css/admin.css')

  body
    #app(@click.self="deselect")
      main
        tnb-admin
        lnb(menu-name="Íµ¨Ï∂ïÏÇ¨Î°Ä Í¥ÄÎ¶¨")
        .main-inner
          .data-control
            button.is-left(@click="deleteSelected" :disabled="!selectedItems.length") ÏÑ†ÌÉù ÏÇ≠Ï†ú
            button.is-right(@click="goToAdd") Íµ¨Ï∂ïÏÇ¨Î°Ä Îì±Î°ù
          
          .construction-cases-table
            table.admin-table
              thead
                tr
                  th.checkbox-col
                    input(type="checkbox" @change="toggleSelectAll" :checked="isAllSelected")
                  th.no-col Î≤àÌò∏
                  th.customer-col Í≥†Í∞ùÏÇ¨  
                  th.project-col ÏÇ¨ÏóÖÎ™Ö
                  th.period-col ÏÇ¨ÏóÖÍ∏∞Í∞Ñ
                  th.date-col ÏûëÏÑ±Ïùº
                  th.action-col Í¥ÄÎ¶¨
              tbody
                tr(v-if="!paginatedCases.length")
                  td(colspan="7" style="text-align: center; padding: 40px; color: #999;") Îì±Î°ùÎêú Íµ¨Ï∂ïÏÇ¨Î°ÄÍ∞Ä ÏóÜÏäµÎãàÎã§.
                tr(v-for="(item, index) in paginatedCases" :key="item.id || index")
                  td.checkbox-col
                    input(type="checkbox" :value="item" v-model="selectedItems")
                  td.no-col {{ totalItems - ((currentPage - 1) * itemsPerPage + index) }}
                  td.customer-col {{ item.Í≥†Í∞ùÏÇ¨ || item.Íµ≠Î¨∏Ï†úÎ™© || item.Ï†úÎ™© || '-' }}
                  td.project-col {{ item.ÏÇ¨ÏóÖÎ™Ö || item.Íµ≠Î¨∏ÎÇ¥Ïö© || item.ÎÇ¥Ïö© || '-' }}
                  td.period-col {{ item.ÏÇ¨ÏóÖÍ∏∞Í∞Ñ || item.ÏòÅÎ¨∏Ï†úÎ™© || '-' }}
                  td.date-col {{ formatDate(item.ÏûëÏÑ±Ïùº) || formatDate(item.ÏùºÏûê) || formatDate(item.ÏùºÏãú) || '-' }}
                  td.action-col
                    button.edit-btn(@click="editItem(item)") ÏàòÏ†ï
                    button.delete-btn(@click="deleteItem(item)") ÏÇ≠Ï†ú

          .pagination-container(v-if="totalPages > 1")
            nav.pagination
              button.pagination-btn(@click="goToPage(currentPage - 1)" :disabled="currentPage <= 1") <
              button.pagination-btn(
                v-for="page in visiblePages" 
                :key="page"
                @click="goToPage(page)"
                :class="{ active: page === currentPage }"
              ) {{ page }}
              button.pagination-btn(@click="goToPage(currentPage + 1)" :disabled="currentPage >= totalPages") >

      div(v-if="isEditModalOpen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999; display: flex; align-items: center; justify-content: center;")
        div(style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5);" @click="closeEditModal")
        div(style="position: relative; width: 90%; max-width: 500px; background: white; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); z-index: 10000;")
          div(style="padding: 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center;")
            h3(style="font-size: 18px; font-weight: 600; margin: 0;") Íµ¨Ï∂ïÏÇ¨Î°Ä ÏàòÏ†ï
            button(style="width: 24px; height: 24px; background: none; border: none; cursor: pointer; font-size: 20px;" @click="closeEditModal") √ó
          
          div(style="padding: 20px; max-height: 70vh; overflow-y: auto;")
            div(style="background: #fffacd; padding: 10px; margin-bottom: 20px; font-size: 14px; border: 2px solid #ffd700; border-radius: 4px;")
              p(style="margin: 5px 0; font-weight: bold;") üîç ÎîîÎ≤ÑÍ∑∏ Ï†ïÎ≥¥:
              p(style="margin: 5px 0;") üìù Í≥†Í∞ùÏÇ¨: "{{ editForm.Í≥†Í∞ùÏÇ¨ }}"
              p(style="margin: 5px 0;") üìã ÏÇ¨ÏóÖÎ™Ö: "{{ editForm.ÏÇ¨ÏóÖÎ™Ö }}"
              p(style="margin: 5px 0;") üìÖ ÏÇ¨ÏóÖÍ∏∞Í∞Ñ: "{{ editForm.ÏÇ¨ÏóÖÍ∏∞Í∞Ñ }}"
              p(style="margin: 5px 0;") üî¢ NO: {{ editForm.NO }}
              
            div(style="margin-bottom: 20px;")
              label(style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;") Í≥†Í∞ùÏÇ¨ *
              input(type="text" v-model="editForm.Í≥†Í∞ùÏÇ¨" placeholder="Í≥†Í∞ùÏÇ¨Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî" style="width: 100%; padding: 10px 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px;")
              
            div(style="margin-bottom: 20px;")
              label(style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;") ÏÇ¨ÏóÖÎ™Ö *
              input(type="text" v-model="editForm.ÏÇ¨ÏóÖÎ™Ö" placeholder="ÏÇ¨ÏóÖÎ™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî" style="width: 100%; padding: 10px 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px;")
              
            div(style="margin-bottom: 20px;")
              label(style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;") ÏÇ¨ÏóÖÍ∏∞Í∞Ñ *
              input(type="text" v-model="editForm.ÏÇ¨ÏóÖÍ∏∞Í∞Ñ" placeholder="Ïòà: 25.01 ~ 25.04" style="width: 100%; padding: 10px 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px;")
          
          div(style="padding: 20px; border-top: 1px solid #eee; display: flex; gap: 10px; justify-content: flex-end;")
            button(style="padding: 10px 20px; background-color: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;" @click="saveEdit") Ï†ÄÏû•
            button(style="padding: 10px 20px; background-color: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;" @click="closeEditModal") Ï∑®ÏÜå

    include common/tnb-admin.pug
    include common/lnb.pug

    script(type="text/javascript" src="/js/components.js")
    script(type='text/javascript').
      let api_key = "#{api_key}"
      var v = new Vue({
        el: '#app',
        components: {
        },
        data: {
          constructionCases: [],
          selectedItems: [],
          isEditModalOpen: false,
          editForm: {
            id: null,
            NO: null,
            Í≥†Í∞ùÏÇ¨: '',
            ÏÇ¨ÏóÖÎ™Ö: '',
            ÏÇ¨ÏóÖÍ∏∞Í∞Ñ: ''
          },
          originalEditItem: null,
          currentPage: 1,
          itemsPerPage: 10
        },
        computed: {
          totalItems() {
            return this.constructionCases.length
          },
          totalPages() {
            return Math.ceil(this.totalItems / this.itemsPerPage)
          },
          paginatedCases() {
            const start = (this.currentPage - 1) * this.itemsPerPage
            const end = start + this.itemsPerPage
            return this.constructionCases.slice(start, end)
          },
          visiblePages() {
            const pages = []
            const start = Math.max(1, this.currentPage - 2)
            const end = Math.min(this.totalPages, start + 4)
            
            for (let i = start; i <= end; i++) {
              pages.push(i)
            }
            return pages
          },
          isAllSelected() {
            return this.paginatedCases.length > 0 && this.selectedItems.length === this.paginatedCases.length
          }
        },
        watch: {
          editForm: {
            deep: true,
            handler(newVal) {
              console.log('editForm Î≥ÄÍ≤Ω Í∞êÏßÄ:', newVal)
            }
          },
          isEditModalOpen(newVal) {
            console.log('Î™®Îã¨ ÏÉÅÌÉú Î≥ÄÍ≤Ω:', newVal)
            if (newVal) {
              this.$nextTick(() => {
                console.log('Î™®Îã¨Ïù¥ Ïó¥Î¶∞ ÌõÑ editForm:', this.editForm)
              })
            }
          }
        },
        methods: {
          loadConstructionCases() {
            http({
              uri: "Í≤åÏãúÌåêÏùΩÍ∏∞", 
              method: "patch", 
              param: { 
                api_key, 
                tableName: 'TB_NOTICE1', 
                row: {}, 
                option: { rowId: 'Î™©Î°ùÏ†ÑÏ≤¥' } 
              }, 
              cb: (res) => {
                console.log('=== Íµ¨Ï∂ïÏÇ¨Î°Ä Îç∞Ïù¥ÌÑ∞ Î°úÎìú ===')
                console.log('Ï†ÑÏ≤¥ API ÏùëÎãµ:', res)
                if (res.code === 0) {
                  if (Array.isArray(res.data)) {
                    // Î™®Îì† Îç∞Ïù¥ÌÑ∞ ÌôïÏù∏
                    console.log('Ï†ÑÏ≤¥ Îç∞Ïù¥ÌÑ∞ Í∞úÏàò:', res.data.length)
                    
                    // Íµ¨Ï∂ïÏÇ¨Î°Ä ÌïÑÌÑ∞ÎßÅ
                    const constructionData = res.data.filter(item => 
                      item && item['Ïπ¥ÌÖåÍ≥†Î¶¨'] === 'Íµ¨Ï∂ïÏÇ¨Î°Ä'
                    )
                    
                    console.log('Íµ¨Ï∂ïÏÇ¨Î°Ä Í∞úÏàò:', constructionData.length)
                    
                    if (constructionData.length > 0) {
                      console.log('Ï≤´ Î≤àÏß∏ Íµ¨Ï∂ïÏÇ¨Î°Ä ÏÉÅÏÑ∏:')
                      const firstItem = constructionData[0]
                      Object.keys(firstItem).forEach(key => {
                        console.log(`  ${key}:`, firstItem[key])
                      })
                    }
                    
                    this.constructionCases = constructionData.sort((a, b) => {
                      const dateA = new Date(a.ÏùºÏãú || a.ÏûëÏÑ±Ïùº || a.ÏùºÏûê)
                      const dateB = new Date(b.ÏùºÏãú || b.ÏûëÏÑ±Ïùº || b.ÏùºÏûê)
                      return dateB - dateA
                    })
                  } else {
                    this.constructionCases = []
                  }
                  this.selectedItems = []
                } else {
                  alert("Îç∞Ïù¥ÌÑ∞ Ï°∞ÌöåÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")
                }
              },
              ecb: (error) => {
                console.error('Îç∞Ïù¥ÌÑ∞ Î°úÎìú ÏóêÎü¨:', error)
                alert("Îç∞Ïù¥ÌÑ∞ Ï°∞Ìöå Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")
              }
            })
          },
          goToPage(page) {
            if (page >= 1 && page <= this.totalPages) {
              this.currentPage = page
              this.selectedItems = []
            }
          },
          toggleSelectAll(event) {
            if (event.target.checked) {
              this.selectedItems = [...this.paginatedCases]
            } else {
              this.selectedItems = []
            }
          },
          editItem(item) {
            console.log('=== ÏàòÏ†ï Î≤ÑÌäº ÌÅ¥Î¶≠ ===')
            console.log('ÏàòÏ†ïÌï† Ìï≠Î™©:', item)
            
            // Îç∞Ïù¥ÌÑ∞ Ï§ÄÎπÑ
            const itemNO = item.NO || item.id
            const customerValue = item.Í≥†Í∞ùÏÇ¨ || item.Íµ≠Î¨∏Ï†úÎ™© || item.Ï†úÎ™© || ''
            const projectValue = item.ÏÇ¨ÏóÖÎ™Ö || item.Íµ≠Î¨∏ÎÇ¥Ïö© || item.ÎÇ¥Ïö© || ''
            const periodValue = item.ÏÇ¨ÏóÖÍ∏∞Í∞Ñ || item.ÏòÅÎ¨∏Ï†úÎ™© || ''
            
            // ÏõêÎ≥∏ Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû•
            this.originalEditItem = item
            
            // Vue.setÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ Î∞òÏùëÏÑ± Î≥¥Ïû•
            this.$set(this.editForm, 'id', item.id)
            this.$set(this.editForm, 'NO', itemNO)
            this.$set(this.editForm, 'Í≥†Í∞ùÏÇ¨', customerValue)
            this.$set(this.editForm, 'ÏÇ¨ÏóÖÎ™Ö', projectValue)
            this.$set(this.editForm, 'ÏÇ¨ÏóÖÍ∏∞Í∞Ñ', periodValue)
            
            console.log('ÏÑ§Ï†ïÎêú editForm:', this.editForm)
            
            // Î™®Îã¨ Ïó¥Í∏∞
            this.isEditModalOpen = true
          },
          saveEdit() {
            if (!this.editForm.Í≥†Í∞ùÏÇ¨ || !this.editForm.ÏÇ¨ÏóÖÎ™Ö || !this.editForm.ÏÇ¨ÏóÖÍ∏∞Í∞Ñ) {
              alert("Î™®Îì† ÌïÑÎìúÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.")
              return
            }
            
            // NOÎ•º Ïà´ÏûêÎ°ú Î≥ÄÌôò
            const rowId = Number(this.editForm.NO)
            
            const updatedRow = {
              Í≥†Í∞ùÏÇ¨: this.editForm.Í≥†Í∞ùÏÇ¨.trim(),
              ÏÇ¨ÏóÖÎ™Ö: this.editForm.ÏÇ¨ÏóÖÎ™Ö.trim(),
              ÏÇ¨ÏóÖÍ∏∞Í∞Ñ: this.editForm.ÏÇ¨ÏóÖÍ∏∞Í∞Ñ.trim()
            }
            
            console.log('ÏàòÏ†ï ÏöîÏ≤≠ Îç∞Ïù¥ÌÑ∞:', {
              tableName: 'TB_NOTICE1',
              row: updatedRow,
              option: { rowId: rowId }
            })
            console.log('rowId ÌÉÄÏûÖ:', typeof rowId, 'rowId Í∞í:', rowId)
            
            http({
              uri: "Í≤åÏãúÌåêÏàòÏ†ï", 
              method: "patch", 
              param: { 
                api_key, 
                tableName: 'TB_NOTICE1', 
                row: updatedRow,
                option: { rowId: rowId }
              }, 
              cb: (res) => {
                console.log('ÏàòÏ†ï ÏùëÎãµ:', res)
                if (res.code === 0) {
                  alert("Íµ¨Ï∂ïÏÇ¨Î°ÄÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.")
                  this.closeEditModal()
                  this.loadConstructionCases()
                } else {
                  alert("ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§: " + (res.msg || res.message || 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'))
                  console.error('ÏàòÏ†ï Ïã§Ìå® ÏùëÎãµ:', res)
                }
              },
              ecb: (error) => {
                console.error('ÏàòÏ†ï API Ìò∏Ï∂ú Ïò§Î•ò:', error)
                alert("ÏàòÏ†ï Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.")
              }
            })
          },
          closeEditModal() {
            console.log('Î™®Îã¨ Îã´Í∏∞')
            this.isEditModalOpen = false
            // editFormÏùÑ ÏôÑÏ†ÑÌûà Ï¥àÍ∏∞Ìôî
            this.$set(this, 'editForm', {
              id: null,
              NO: null,
              Í≥†Í∞ùÏÇ¨: '',
              ÏÇ¨ÏóÖÎ™Ö: '',
              ÏÇ¨ÏóÖÍ∏∞Í∞Ñ: ''
            })
            this.originalEditItem = null
          },
          deleteItem(item) {
            console.log('ÏÇ≠Ï†úÌï† Ìï≠Î™©:', item)
            console.log('ÏÇ≠Ï†úÌï† NO:', item.NO, 'id:', item.id)
            
            // NOÍ∞Ä ÏóÜÏúºÎ©¥ idÎ•º ÏÇ¨Ïö©
            const itemNO = item.NO || item.id
            console.log('ÏÇ¨Ïö©Ìï† rowId:', itemNO)
            
            if (confirm(`"${item.Í≥†Í∞ùÏÇ¨} - ${item.ÏÇ¨ÏóÖÎ™Ö}" Íµ¨Ï∂ïÏÇ¨Î°ÄÎ•º ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)) {
              const deleteParam = { 
                api_key,
                tableName: 'TB_NOTICE1', 
                option: { rowId: itemNO }
              }
              console.log('ÏÇ≠Ï†ú ÏöîÏ≤≠ ÌååÎùºÎØ∏ÌÑ∞:', deleteParam)
              
              http({
                uri: "Í≤åÏãúÌåêÏÇ≠Ï†ú", 
                method: "delete", 
                param: deleteParam, 
                cb: (res) => {
                  console.log('ÏÑúÎ≤Ñ ÏÇ≠Ï†ú ÏùëÎãµ:', res)
                  if (res.code === 0) {
                    alert("ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.")
                    this.loadConstructionCases()
                  } else {
                    alert("ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§: " + (res.msg || res.message || 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'))
                  }
                },
                ecb: (error) => {
                  console.error('ÏÑúÎ≤Ñ ÏÇ≠Ï†ú Ïò§Î•ò:', error)
                  alert("ÏÇ≠Ï†ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")
                }
              })
            }
          },
          deleteSelected() {
            if (this.selectedItems.length === 0) {
              alert("ÏÇ≠Ï†úÌï† Ìï≠Î™©ÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.")
              return
            }
            
            if (confirm(`ÏÑ†ÌÉùÌïú ${this.selectedItems.length}Í∞úÏùò Íµ¨Ï∂ïÏÇ¨Î°ÄÎ•º ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)) {
              let deletedCount = 0
              let errorCount = 0
              
              this.selectedItems.forEach((item, index) => {
                // NOÍ∞Ä ÏóÜÏúºÎ©¥ idÎ•º ÏÇ¨Ïö©
                const itemNO = item.NO || item.id
                
                http({
                  uri: "Í≤åÏãúÌåêÏÇ≠Ï†ú", 
                  method: "delete", 
                  param: { 
                    api_key,
                    tableName: 'TB_NOTICE1', 
                    option: { rowId: itemNO }
                  }, 
                  cb: (res) => {
                    if (res.code === 0) {
                      deletedCount++
                    } else {
                      errorCount++
                      console.error('ÏÇ≠Ï†ú Ïã§Ìå®:', res)
                    }
                    
                    // ÎßàÏßÄÎßâ Ìï≠Î™© Ï≤òÎ¶¨ ÏôÑÎ£å Ïãú
                    if (deletedCount + errorCount === this.selectedItems.length) {
                      if (errorCount === 0) {
                        alert(`${deletedCount}Í∞ú Ìï≠Î™©Ïù¥ ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.`)
                      } else {
                        alert(`${deletedCount}Í∞ú Ìï≠Î™© ÏÇ≠Ï†ú ÏÑ±Í≥µ, ${errorCount}Í∞ú Ìï≠Î™© ÏÇ≠Ï†ú Ïã§Ìå®`)
                      }
                      this.selectedItems = []
                      this.loadConstructionCases()
                    }
                  },
                  ecb: (error) => {
                    console.error('ÏÑúÎ≤Ñ ÏÇ≠Ï†ú Ïò§Î•ò:', error)
                    errorCount++
                    
                    if (deletedCount + errorCount === this.selectedItems.length) {
                      alert(`${deletedCount}Í∞ú Ìï≠Î™© ÏÇ≠Ï†ú ÏÑ±Í≥µ, ${errorCount}Í∞ú Ìï≠Î™© ÏÇ≠Ï†ú Ïã§Ìå®`)
                      this.selectedItems = []
                      this.loadConstructionCases()
                    }
                  }
                })
              })
            }
          },
          goToAdd() {
            window.location.href = '/Ïñ¥ÎìúÎØº/Íµ¨Ï∂ïÏÇ¨Î°ÄÏì∞Í∏∞'
          },
          formatDate(dateStr) {
            if (!dateStr) return ''
            try {
              const date = new Date(dateStr)
              return date.toLocaleDateString('ko-KR')
            } catch (e) {
              return dateStr
            }
          },
          deselect() {
          }
        },
        mounted() {
          this.loadConstructionCases()
        }
      })

    style.
      .admin-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
      }
      
      .admin-table th,
      .admin-table td {
        border: 1px solid #ddd;
        padding: 12px;
        text-align: left;
      }
      
      .admin-table th {
        background-color: #f8f9fa;
        font-weight: 600;
      }
      
      .checkbox-col { width: 40px; text-align: center; }
      .no-col { width: 60px; text-align: center; }
      .customer-col { width: 150px; }
      .project-col { width: 250px; }
      .period-col { width: 150px; }
      .date-col { width: 120px; }
      .action-col { width: 120px; text-align: center; }
      
      .edit-btn, .delete-btn {
        padding: 6px 12px;
        margin: 0 2px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 12px;
      }
      
      .edit-btn {
        background-color: #007bff;
        color: white;
      }
      
      .edit-btn:hover {
        background-color: #0056b3;
      }
      
      .delete-btn {
        background-color: #dc3545;
        color: white;
      }
      
      .delete-btn:hover {
        background-color: #c82333;
      }
      
      .pagination-container {
        display: flex;
        justify-content: center;
        margin: 20px 0;
      }
      
      .pagination {
        display: flex;
        gap: 8px;
        align-items: center;
      }
      
      .pagination-btn {
        width: 32px;
        height: 32px;
        border: 1px solid #d1d5db;
        background: #ffffff;
        color: #374151;
        border-radius: 4px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        transition: all 0.2s ease;
      }
      
      .pagination-btn:hover:not(:disabled) {
        background-color: #f3f4f6;
        border-color: #9ca3af;
      }
      
      .pagination-btn.active {
        background-color: #3b82f6;
        border-color: #3b82f6;
        color: white;
      }
      
      .pagination-btn:disabled {
        background-color: #f9fafb;
        color: #d1d5db;
        cursor: not-allowed;
      }
      
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 9999;
        display: none;
      }
      
      .modal.is-active {
        display: flex;
        align-items: center;
        justify-content: center;
      }
      
      .modal-background {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
      }
      
      .modal-card {
        position: relative;
        width: 90%;
        max-width: 500px;
        margin: 0 auto;
        background: white;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        z-index: 10000;
      }
      
      .modal-card-head {
        padding: 20px;
        border-bottom: 1px solid #eee;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .modal-card-title {
        font-size: 18px;
        font-weight: 600;
        margin: 0;
      }
      
      .modal-card-body {
        padding: 20px;
        max-height: 70vh;
        overflow-y: auto;
      }
      
      .modal-card-foot {
        padding: 20px;
        border-top: 1px solid #eee;
        display: flex;
        gap: 10px;
        justify-content: flex-end;
      }
      
      .field {
        margin-bottom: 15px;
      }
      
      .label {
        display: block;
        margin-bottom: 5px;
        font-weight: 600;
      }
      
      .input {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
      }
      
      .button {
        padding: 10px 20px;
        border: 1px solid #ddd;
        border-radius: 4px;
        cursor: pointer;
        background: white;
      }
      
      .button.is-success {
        background-color: #28a745;
        color: white;
        border-color: #28a745;
      }
      
      .button.is-success:hover {
        background-color: #218838;
      }
      
      .delete {
        width: 24px;
        height: 24px;
        background: none;
        border: none;
        cursor: pointer;
        position: relative;
      }
      
      .delete:before,
      .delete:after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 16px;
        height: 2px;
        background: #999;
        transform: translate(-50%, -50%) rotate(45deg);
      }
      
      .delete:after {
        transform: translate(-50%, -50%) rotate(-45deg);
      } 