html(style='width: 100%;')
  head
    title
    meta(name='description' content='')
    meta(name='keywords' content='ë§¤ë‹ˆìŠ¤íƒˆë§ìŠ¤')
    meta(property="og:type" content="website")
    meta(property="og:site_name" content="MST")
    meta(property="og:title" content="ì°¨ê°€ìš´ ê¸°ìˆ ë¡œ ë”°ëœ»í•œ ì„¸ìƒì„ ë§Œë“œëŠ” ğŸ™‚ğŸ™‚ | AI ë¹„ì „ì†”ë£¨ì…˜ ë§¤ë‹ˆìŠ¤íƒˆë§ìŠ¤ Many Stallings Company")
    meta(property="og:description" content="AI Vision Solution")
    meta(property="og:image" content="http://plusuniv.com/img/og_img.png")
    meta(property='og:image:alt', content='Many Stallings Company Logo')
    meta(property="og:url" content="http://plusuniv.com")

    script(type="text/javascript" src="/js/vue.js")
    script(type="text/javascript" src="/js/grunt-build.js")
    script(type="text/javascript" src="/js/axios.js")
    script(type="text/javascript" src="/js/http.js")

    link(rel='stylesheet' href='/css/buefy.css')
    link(rel="stylesheet" href='/css/admin.css')

    //link(href='https://vjs.zencdn.net/7.19.2/video-js.css', rel='stylesheet')

    link(rel='canonical' href='http://plusuniv.com')
    meta(name="viewport" content="width=device-width, initial-scale=1.0")

    link(rel='apple-touch-icon' href='/apple-touch-icon.png')
    //link(rel="icon" href="https://plusuniv.com/favicon.ico" type="image/x-icon")
    //link(rel='icon', href='https://plusuniv.com/favicon.svg' type="image/svg+xml")
  body
    #app
      header
        tnb-admin(text="ì–´ë“œë¯¼/ê²Œì‹œíŒ ê¸€ì“°ê¸°")
      aside
        headers(menu-name="ê²Œì‹œíŒ ì„¤ì •")
      main.is-vertical
        .data-control
          button.is-left(@click="goBack") ì´ì „ í˜ì´ì§€
          button.is-right(@click="write") ë“±ë¡
        .notice
          .h-stack
            .label ì¹´í…Œê³ ë¦¬
            b-input.flex-1(type="text" v-model="category" disabled)
          
          // êµ¬ì¶•ì‚¬ë¡€ì¸ ê²½ìš° ì¶”ê°€ í•„ë“œ í‘œì‹œ
          template(v-if="category === 'êµ¬ì¶•ì‚¬ë¡€'")
            .h-stack
              .label ê³ ê°ì‚¬
              b-input.flex-1(type="text" v-model="customer" placeholder="ê³ ê°ì‚¬ëª…ì„ ì…ë ¥í•˜ì„¸ìš”")
            .h-stack
              .label ì‚¬ì—…ëª…
              b-input.flex-1(type="text" v-model="projectName" placeholder="ì‚¬ì—…ëª…ì„ ì…ë ¥í•˜ì„¸ìš”")
            .h-stack
              .label ì‚¬ì—…ê¸°ê°„
              b-input.flex-1(type="text" v-model="projectPeriod" placeholder="ì˜ˆ: 25.01 - 25.04")
          
          // ì¼ë°˜ ê²Œì‹œê¸€ì¸ ê²½ìš° ê¸°ì¡´ í•„ë“œ í‘œì‹œ
          template(v-else)
            .h-stack
              .label êµ­ë¬¸ì œëª©
              b-input.flex-1(type="text" v-model="title" placeholder="êµ­ë¬¸ì œëª©")
            .h-stack
              .label êµ­ë¬¸ë‚´ìš©
              b-input.flex-1(type="textarea" v-model="content" placeholder="êµ­ë¬¸ë‚´ìš©")
            .h-stack
              .label ì˜ë¬¸ì œëª©
              b-input.flex-1(type="text" v-model="titleEN" placeholder="ì˜ë¬¸ì œëª©")
            .h-stack
              .label ì˜ë¬¸ë‚´ìš©
              b-input.flex-1(type="textarea" v-model="contentEN" placeholder="ì˜ë¬¸ë‚´ìš©")
    include common/tnb-admin.pug
    include common/lnb.pug

 
  script(type="text/javascript" src="/js/components.js")
  script(type='text/javascript').
    let api_key = "#{api_key}"
    let category = "#{category}"
    var v = new Vue({
      el: '#app',
      components: {
      },
      data: {
        category: category,
        title: '',
        content: '',
        titleEN: '',
        contentEN: '',
        customer: '',
        projectName: '',
        projectPeriod: '',
      },
      methods: {
        write: function () {
          let row = {
            'ì¹´í…Œê³ ë¦¬': this.category
          }
          
          // êµ¬ì¶•ì‚¬ë¡€ì¸ ê²½ìš° í•´ë‹¹ í•„ë“œë§Œ í¬í•¨
          if (this.category === 'êµ¬ì¶•ì‚¬ë¡€') {
            if (!this.customer || !this.projectName || !this.projectPeriod) {
              alert("ê³ ê°ì‚¬, ì‚¬ì—…ëª…, ì‚¬ì—…ê¸°ê°„ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.")
              return
            }
            row['ê³ ê°ì‚¬'] = this.customer
            row['ì‚¬ì—…ëª…'] = this.projectName
            row['ì‚¬ì—…ê¸°ê°„'] = this.projectPeriod
          } else {
            // ì¼ë°˜ ê²Œì‹œê¸€ì¸ ê²½ìš° ê¸°ì¡´ í•„ë“œ í¬í•¨
            row['êµ­ë¬¸ì œëª©'] = this.title
            row['êµ­ë¬¸ë‚´ìš©'] = this.content
            row['ì˜ë¬¸ì œëª©'] = this.titleEN
            row['ì˜ë¬¸ë‚´ìš©'] = this.contentEN
          }
          
          http({uri:"ê²Œì‹œíŒì“°ê¸°", method:"post", param: { api_key, tableName: 'TB_NOTICE1', row: row }, cb: (res) => {
            if(res.code === 0)
            {
              alert("ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.")
              // ë“±ë¡ í›„ ê²Œì‹œíŒìœ¼ë¡œ ì´ë™
              if (this.category === 'êµ¬ì¶•ì‚¬ë¡€') {
                window.location.href = '/construction-cases'
              } else {
                window.location.href = '/%EC%96%B4%EB%93%9C%EB%AF%BC/%EA%B2%8C%EC%8B%9C%ED%8C%90?n=n1'
              }
            }
            else
              alert("ë“±ë¡ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤.")
          } })

        },
        goBack: function () {
          history.go(-1)
        }
      },
      computed: {
      },
      created()
      {
      },
      mounted()
      {
      },
      beforeDestroy()
      {
      }

    })